{
    "swagger": "2.0",
    "info": {
        "description": "This is a sample server Petstore server.",
        "title": "Ping Agnet Manager Api",
        "termsOfService": "https://github.com/mingjiezxc",
        "contact": {},
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "basePath": "/v1",
    "paths": {
        "/agent": {
            "get": {
                "description": "get regedit agent list",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agent"
                ],
                "summary": "Agent List",
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/agent/{agentName}/err/ip": {
            "get": {
                "description": "get Agent Ping Err IP List",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agent"
                ],
                "summary": "Agent Ping Err IP List",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Agent Name",
                        "name": "agentName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/agent/{agentName}/ip/{ip}/lastms": {
            "get": {
                "description": "get Agent Ping IP Success last ms",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agent"
                ],
                "summary": "Agent Ping IP Success Last ms",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Agent Name",
                        "name": "agentName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "IP",
                        "name": "ip",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "integer"
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/agent/{agentName}/job": {
            "get": {
                "description": "get Agent Job List",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agent"
                ],
                "summary": "Agent Job List",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Agent Name",
                        "name": "agentName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/agent/{agentName}/job/{jobName}": {
            "post": {
                "description": "Add Job to Agent JobList",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agent"
                ],
                "summary": "Agent Add Job",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Agent Name",
                        "name": "agentName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Job Name",
                        "name": "jobName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "description": "delete job on Agent JobList",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agent"
                ],
                "summary": "Agent Del Job",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Agent Name",
                        "name": "agentName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Job Name",
                        "name": "jobName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/agent/{agentName}/online": {
            "get": {
                "description": "get Agent Online status",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agent"
                ],
                "summary": "Agent Online status",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Agent Name",
                        "name": "agentName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "online",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "offline or redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/agent/{agentName}/status": {
            "get": {
                "description": "get Agent IP Status",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agent"
                ],
                "summary": "Agent IP Status",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Agent Name",
                        "name": "agentName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "$ref": "#/definitions/main.IPStatus"
                            }
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/ip/group": {
            "get": {
                "description": "Get IPGroup List",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "IP Group"
                ],
                "summary": "IPGroup List",
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "put": {
                "description": "Create IPGroup and Add IP to Group",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "IP Group"
                ],
                "summary": "Create IPGroup and Add IP to Group",
                "parameters": [
                    {
                        "description": "Group Struct",
                        "name": "Group",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/main.GroupStruct"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "501": {
                        "description": "request data err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete IP On Group",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "IP Group"
                ],
                "summary": "Delete IP On Group",
                "parameters": [
                    {
                        "description": "Group Struct",
                        "name": "Group",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/main.GroupStruct"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "501": {
                        "description": "request data err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/ip/group/{groupName}": {
            "get": {
                "description": "Get IPGroup IP List",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "IP Group"
                ],
                "summary": "IPGroup IP List",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Group Name",
                        "name": "groupName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete IP Group",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "IP Group"
                ],
                "summary": "Delete IP Group",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Group Name",
                        "name": "groupName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/job": {
            "get": {
                "description": "get Job List",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Job"
                ],
                "summary": "Job List",
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "description": "Add \u0026 Update Job",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Job"
                ],
                "summary": "Add \u0026 Update Job",
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/main.JobStruct"
                        }
                    },
                    "500": {
                        "description": "request data err",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "501": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "502": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete Job",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Job"
                ],
                "summary": "Delete Job",
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/main.JobStruct"
                        }
                    },
                    "500": {
                        "description": "request data err",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "501": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "502": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/job/{jobName}": {
            "get": {
                "description": "Get Job Info",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Job"
                ],
                "summary": "Get Job Info",
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/main.JobStruct"
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/ping": {
            "get": {
                "description": "ping",
                "consumes": [
                    "text/plain"
                ],
                "summary": "a ping api",
                "responses": {
                    "200": {
                        "description": "pong",
                        "schema": {
                            "type": "strng"
                        }
                    }
                }
            }
        },
        "/test": {
            "post": {
                "description": "test",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "summary": "test",
                "parameters": [
                    {
                        "description": "Group Name",
                        "name": "Name",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/main.BaseReturn"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "redis connect err",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "main.BaseReturn": {
            "type": "object",
            "properties": {
                "data": {
                    "type": "object"
                },
                "status": {
                    "type": "boolean"
                }
            }
        },
        "main.GroupStruct": {
            "type": "object",
            "properties": {
                "ip": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.1.1",
                        "2.168.2.1"
                    ]
                },
                "name": {
                    "type": "string",
                    "example": "group1"
                }
            }
        },
        "main.IPStatus": {
            "type": "object",
            "properties": {
                "allowedLoss": {
                    "type": "integer"
                },
                "inErrList": {
                    "type": "boolean"
                },
                "ip": {
                    "type": "string"
                },
                "loss": {
                    "type": "string"
                },
                "lost": {
                    "type": "integer"
                },
                "ms": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "msAvg": {
                    "type": "integer"
                },
                "ptll": {
                    "type": "integer"
                },
                "receiveCount": {
                    "type": "integer"
                },
                "sendCount": {
                    "type": "integer"
                },
                "updateTime": {
                    "type": "integer"
                }
            }
        },
        "main.JobStruct": {
            "type": "object",
            "properties": {
                "group": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "group1",
                        "group2"
                    ]
                },
                "name": {
                    "type": "string",
                    "example": "job1"
                },
                "spec": {
                    "type": "string",
                    "example": "*/10 * * * * *"
                }
            }
        }
    }
}